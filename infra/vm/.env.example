# Non-secret configuration for VM + infra (copy to .env, do NOT commit)

# 1C platform version (single source of truth).
# Must be a strict 4-part version (e.g. 8.3.27.1719).
ONEC_VERSION=8.3.27.1719

# Hyper-V settings
VM_NAME=onec-infra
SWITCH_NAME=onec-external
NET_ADAPTER_NAME=Wi-Fi
NET_IFACE=eth0

# Management network (host <-> VM), internal Hyper-V switch (no router access needed)
MGMT_SWITCH_NAME=onec-mgmt
MGMT_HOST_IP=192.168.250.1
MGMT_VM_IP=192.168.250.2
MGMT_PREFIX_LENGTH=24

# VM network
# LAN: DHCP (address comes from your local network)
# Provisioning: via management NIC `MGMT_VM_IP` (host<->VM, internal switch)

# VM disk size (autoinstall mode)
# 1C images are large; keep a generous default to avoid docker build failures.
OS_DISK_GB=200

# Smoke test behavior
KEEP_VM=true
SSH_WAIT_SECONDS=600
REMOTE_DIR=/opt/onec-sandbox
FORCE_RECREATE_VM=false

# 1C ports (defaults)
ONEC_RAGENT_PORT_HOST=1540
ONEC_REGPORT_HOST=1541
ONEC_RAS_PORT_HOST=1545
ONEC_RANGE_HOST=1560-1591

# Web publication (Apache in onec-web container, host networking in VM)
ONEC_WEB_PORT_HOST=8080

# Postgres (no passwords here!)
PGDATABASE=postgres
PGUSER=onec
PGPORT_HOST=5432
PG_SHM_SIZE=1g

